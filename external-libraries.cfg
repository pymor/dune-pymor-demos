# This file is part of the dune-pymor-demos project:
#   https://github.com/pyMor/dune-pymor-demos
# Copyright Holders: Felix Albrecht, Stephan Rave
# License: BSD 2-Clause License (http://opensource.org/licenses/BSD-2-Clause)

# available constants:
# CC, CXX, F77, CXXFLAGS, BASEDIR, SRCDIR
# all commands are executed in $SRCDIR/$NAME
# do not use ',' in any of the 'build' commands!

[alugrid]
src=http://aam.mathematik.uni-freiburg.de/IAM/Research/alugrid/ALUGrid-1.52.tar.gz
build='./configure --prefix=$BASEDIR/local CC=$CC CXX=$CXX F77=$F77 CXXFLAGS=$CXXFLAGS',
  'make',
  'make install'

[eigen]
src=http://bitbucket.org/eigen/eigen/get/3.1.0.tar.gz
build='mkdir build',
  'rm -rf build/*',
  'cd build && cmake .. -DCMAKE_INSTALL_PREFIX=$BASEDIR/local -DCMAKE_CXX_COMPILER=$CXX',
  'cd build && make',
  'cd build && make install'

[pybindgen]
src=http://pybindgen.googlecode.com/files/pybindgen-0.16.0.tar.bz2
build='[ -e $BASEDIR/local/bin/activate ] || cd $BASEDIR && virtualenv --python=python2.7 local',
    'echo "" >> $BASEDIR/local/bin/activate ; echo "export PYTHONPATH=$BASEDIR/dune-pymor:$PYTHONPATH" >> $BASEDIR/local/bin/activate',
    '. $BASEDIR/local/bin/activate && ./waf configure --prefix=$BASEDIR/local/',
    '. $BASEDIR/local/bin/activate && ./waf build',
    '. $BASEDIR/local/bin/activate && ./waf install'
